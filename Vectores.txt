#!/bin/bash
declare -i vectores

Ingresarvalores() {
while true; do
read -p "Ingresa números separados por espacio: "  -a  vectores
echo -e "\e[33mLos números añadidos son: ${vectores[@]}\e[0m"
break
done
}

Inverso() {
while true; do
echo -e "\e[33mLos números añadidos son:\e[0m" 
echo -e "\e[33m$(echo -e "${vectores[@]}" | rev)\e[0m"    
break
done 
}

Mayormenor() {
while true; do
echo -e "\e[33mLos números ordenados de mayor a menor son:\e[0m"
#Con short -nr coloco los números de mayor a menor. 
ordenar=($(for num in "${vectores[@]}"; do echo "$num"; done | sort -nr)) 
echo -e "\e[33m${ordenar[@]}\e[0m"
break
done
}

Menormayor() {
while true; do
# lo mismo pero con short -n, eso hace que se coloquen de menor a mayor
echo -e "\e[33mLos números ordenados de mayor a menor son:\e[0m"
ordenar=($(for num in "${vectores[@]}"; do echo "$num"; done | sort -n)) 
echo -e "\e[33m${ordenar[@]}\e[0m"
break
done 
}

Sumatotal() {
while true; do
# creo suma y le doy valor 0 para que cuando empiece a sumar lo haga partiendo de 0.
suma=0
for numero in "${vectores[@]}"; do
suma=$((suma + numero))
done
echo -e "\e[33mLa suma es $suma\e[0m"
break
done
}

Pares() {
pares=0
for numero in "${vectores[@]}"; do
if (( numero % 2 == 0 )); then
#cada vez que se cumple la condición suma al par
((pares++))
fi
done
echo -e "\e[33mHay $pares números pares\e[0m"
}


Simpares() {
# se establece el valor de suma y se indica que los valores que dividido 2 no tengan resto 0 se sumarán
sumai=0
for numero in "${vectores[@]}"; do
if (( numero % 2 != 0 )); then
sumai=$((sumai + numero))
fi
done
echo -e "\e[33mLa suma de los impares es: $sumai\e[0m"
}

Media() {
numeros=0 #ahí guardo la cantidad de números
sumam=0   #se guardará ahí la suma de los números
media=0   #se guarda el resultado de la media
for numero in "${vectores[@]}"; do
sumam=$((sumam + numero))
((numeros++))
media=$(( sumam / numeros))
done  
echo -e "\e[33mLa media es $media\e[0m"
}

menu(){
while true; do
echo "---------------------------------------------"
echo "|                   Menú                    |"
echo "---------------------------------------------"
echo "| 1.Ingresar valores en un vector           |"
echo "---------------------------------------------"
echo "| 2.Mostrar valores en orden inverso        |"
echo "---------------------------------------------"
echo "| 3.Ordena de mayor a menor                 |"
echo "---------------------------------------------"
echo "| 4.Ordena de menor a mayor                 |"
echo "---------------------------------------------"
echo "| 5.Suma total de todos los elementos       |"
echo "---------------------------------------------"
echo "| 6.Cantidad de elementos pares             |"
echo "---------------------------------------------"
echo "| 7.Suma de los elementos impares           |"
echo "---------------------------------------------"
echo "| 8.Media aritmética de todos los elementos |"
echo "---------------------------------------------"
echo "| 9.Salir                                   |"
echo "---------------------------------------------"

read -p "¿Qué quieres hacer?" seleccion

case "$seleccion" in

1)  clear
    Ingresarvalores ;;

2)  clear
    Inverso ;;

3)  clear
    Mayormenor ;;


4)  clear
    Menormayor ;;


5)  clear
    Sumatotal ;;


6)  clear
    Pares ;;


7)  clear
    Simpares ;;


8)  clear
    Media ;;


9)  clear
echo "Adiós"
break ;;

*)
     clear
     echo -e "\e[33mEntrada inválida\e[0m" ;;

esac
done

}



menu
